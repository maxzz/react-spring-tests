var T=Object.defineProperty,$=Object.defineProperties;var D=Object.getOwnPropertyDescriptors;var j=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;var M=(e,t,r)=>t in e?T(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,u=(e,t)=>{for(var r in t||(t={}))E.call(t,r)&&M(e,r,t[r]);if(j)for(var r of j(t))I.call(t,r)&&M(e,r,t[r]);return e},f=(e,t)=>$(e,D(t));import{R as i,u as h,a as x,j as l,b as n,c as v,s as V,d as w,e as q,f as B}from"./vendor.f3926d77.js";const K=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}};K();function Q({value:e,from:t,to:r}){return(e-t.min)/(t.max-t.min)*(r.max-r.min)+r.min}function Y(e,t,r){const a=Math.min(...e),s=Math.max(...e),o=e.map((c,N)=>[N/(e.length-1)*(t-16),m(c)]),d=.01,p=!0,b=o.length?V.toPath(o,d,p):"";return{points:o,path:b,minValue:a,maxValue:s,yFrom:m(0),yto:m(1)};function m(c){return r-Q({value:c,from:{min:a,max:s},to:{min:r*.1,max:r*.99}})}}function z(){const[e,t]=i.useState(!1),[r,a]=i.useState(!1),[s,o]=i.useState(!1),[d,p]=i.useState(!1),[b,m]=i.useState([]),c=i.useRef([]),[N,{width:F}]=h(),[A,{width:k}]=h(),[L,{width:R,height:S}]=h(),O=i.useMemo(()=>(console.log(R,S),Y(b,R,S)),[b,R,S]),P=x({x:e?F-k-2:0,loop:{reverse:!0},config:f(u({},w.wobbly),{mass:d?2:.2}),onStart:(g,C)=>{c.current=[]},onChange:({value:g})=>{//!auto && console.log('frame value', value.x.toFixed(0), dotsRaw.current.map(_ => _.toFixed(0)));
c.current.push(g.x)},onRest:()=>{s?(t(!e),a(!0)):(a(!1),m(c.current))}});return l("div",{className:"w-full h-96 grid grid-rows-[auto,minmax(0,1fr)] bg-red-400",children:[l("div",{className:"flex justify-between space-x-4",children:[l("div",{className:"ml-4 mt-2 flex flex-col",children:[l("div",{className:"text-xs",children:["container: ",F.toFixed(0)," element: ",k.toFixed(0)]}),l("div",{className:"flex items-center space-x-4",children:[n(y,{label:"wobbly",value:d,onChange:p}),n(y,{label:"auto reset animation",value:s,onChange:o})]})]}),n("button",{className:"px-4 py-2 w-16 bg-red-400 border border-red-800 rounded active:scale-[.97]",onClick:()=>{r?(t(!e),a(!1),o(!1)):(t(!e),a(!0))},children:r?"Stop":"Run"})]}),l("div",{ref:N,className:"mt-4 p-1 border border-dotted flex flex-col",children:[n(v.div,{ref:A,style:u({},P),className:"w-32 h-20 border rounded-md bg-purple-400/50 border-purple-800"}),n("div",{ref:L,className:"mt-1 relative h-full bg-gray-50/20",children:O.points.map(([g,C],W)=>n("div",{className:"absolute w-4 h-4 border border-gray-700 rounded-full bg-gray-400/50",style:{left:`${g}px`,top:`${C}px`},children:l("div",{className:"text-[.55rem] text-center",children:[W,n("div",{className:"text-[.47rem]",children:C.toFixed(0)})]})},W))})]})]})}function y({label:e,value:t,onChange:r}){return l("label",{className:"self-end text-sm flex items-center space-x-1",children:[n("input",{className:"w-4 h-4 form-checkbox text-red-600 bg-red-300 red-ring rounded",type:"checkbox",checked:t,onChange:a=>r(a.target.checked)}),n("span",{className:"select-none",children:e})]})}function G(){const[e,t]=i.useState(!1),[r,a]=i.useState(!1),[s,o]=i.useState(!1),[d,{width:p}]=h(),[b,{width:m}]=h();q();const c=x({x:e?p-m-2:0,config:f(u({},w.wobbly),{mass:s?2:.2,clamp:!0}),onRest:()=>{r&&t(!e)}});return l("div",{className:"w-full h-96 grid grid-rows-[auto,minmax(0,1fr)] bg-red-400",children:[l("div",{className:"flex justify-between space-x-4",children:[l("div",{className:"ml-4 mt-2 flex flex-col",children:[l("div",{className:"text-xs",children:["container: ",p.toFixed(0)," element: ",m.toFixed(0)]}),l("div",{className:"flex items-center space-x-4",children:[n(y,{label:"wobbly",value:s,onChange:o}),n(y,{label:"auto reset animation",value:r,onChange:a})]})]}),n("button",{className:"px-4 py-2 w-16 bg-red-400 border border-red-800 rounded active:scale-[.97]",onClick:()=>{t(!e)},children:e?"Stop":"Run"})]}),n("div",{ref:d,className:"mt-4 p-1 border border-dotted",children:n(v.div,{ref:b,style:f(u({},c),{width:c.x.to({range:[0,1],output:[0,2]})}),className:"w-32 h-20",children:n("div",{className:"h-full border-4 rounded-md bg-purple-400/50 border-purple-800",children:"aaa"})})})]})}function J(){const[e,t]=i.useState(!1),[r,{width:a}]=h();console.log("Container,child",a.toFixed(0));const s=x({x:e?1:0,config:f(u({},w.wobbly),{mass:2,clamp:!0}),onRest:()=>{}});return l("div",{className:"w-full h-96 grid grid-rows-[auto,minmax(0,1fr)] grid-cols-1 bg-red-400",children:[n("div",{className:"flex justify-end space-x-4",children:n("button",{className:"px-4 py-2 w-16 bg-red-400 border border-red-800 rounded active:scale-[.97]",onClick:()=>{console.log("Container,child ---------- click",a.toFixed(0)),t(!e)},children:e?"Stop":"Run"})}),n("div",{ref:r,className:"relative mt-4 p-1 border border-dotted",children:n(v.div,{style:f(u({},s),{width:s.x.to({range:[0,1],output:[0,500]})}),className:"w-32 h-20 absolute border rounded-md bg-purple-400/50 border-purple-800"})})]})}function U(){const[e,t]=i.useState(!1),[r,{width:a}]=h(),[s,{width:o}]=h(),d=x({x:e?a-o-2:0,config:f(u({},w.wobbly),{mass:2,clamp:!0}),onRest:()=>{}});return l("div",{className:"w-full h-96 grid grid-rows-[auto,minmax(0,1fr)] bg-red-400",children:[n("div",{className:"flex justify-end space-x-4",children:n("button",{className:"px-4 py-2 w-16 bg-red-400 border border-red-800 rounded active:scale-[.97]",onClick:()=>{t(!e)},children:e?"Stop":"Run"})}),n("div",{ref:r,className:"mt-4 p-1 border border-dotted",children:n(v.div,{ref:s,style:f(u({},d),{width:d.x.to({range:[0,1],output:[0,2]})}),className:"w-32 h-20 border rounded-md bg-purple-400/50 border-purple-800"})})]})}function X(){return n(i.Fragment,{children:n("div",{className:"h-screen grid place-items-center bg-[salmon] text-red-800",children:l("div",{className:"mx-4 grid grid-cols-[repeat(2,minmax(400px,1fr))] gap-4",children:[n(z,{}),n(G,{}),n(J,{}),n(U,{})]})})})}B.render(n(i.StrictMode,{children:n(X,{})}),document.getElementById("root"));
